<!DOCTYPE html>
<html lang="en" dir="ltr">
	<head>
		<meta charset="utf-8">
		<title>Binding new device to the Smart Home Gate</title>
	</head>
	<body>
		Enter your uID<br>
		<input type="text" name="field" size="40"><br>
		<input type="button" name="button" value="Bind" onClick="sendData()">

		<script type="text/javascript">
			function sendData()
			{
				uID = document.all.field.value
				var xhr = new XMLHttpRequest();

				var json = JSON.stringify({
					uID: uID
				});

				xhr.open("POST", '/example.html', true)
				xhr.setRequestHeader('Content-type', 'application/json; charset=utf-8');

				xhr.onreadystatechange = function() {
					if (xhr.readyState != 4) return
					if (xhr.status == 200)
						alert("Success")
				};

				// Отсылаем объект в формате JSON и с Content-Type application/json
				// Сервер должен уметь такой Content-Type принимать и раскодировать
				xhr.send(json);
			}
		</script>
	</body>
</html>
